# ุฅุตูุงุญ ูุดููุฉ API - ุฏููู ุดุงูู

## ๐ ุชุดุฎูุต ุงููุดููุฉ

### ุงููุดุงูู ุงููุญุชููุฉ:
1. **ูุณุงุฑุงุช API ุบูุฑ ุตุญูุญุฉ ูู vercel.json**
2. **ุนุฏู ูุฌูุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ**
3. **ูุดููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช**
4. **ุนุฏู ุชุญููู ุงูููุชุฌุงุช**

## โ ุงูุญููู ุงููุทุจูุฉ

### 1. ุฅูุดุงุก ููู .env
ุชู ุฅูุดุงุก ููู `.env` ูุน ุงููุชุบูุฑุงุช ุงููุทููุจุฉ:
```env
NODE_ENV=production
PORT=5000
JWT_SECRET=olive_store_secret_key_2024_secure
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-app-password
RECIPIENT_EMAIL=elagamy@internet.ru
DATABASE_URL=./olive_store.db
CORS_ORIGIN=*
```

### 2. ุชุญุฏูุซ vercel.json
ุชู ุฅุตูุงุญ ูุณุงุฑุงุช API ูู vercel.json:
```json
{
  "src": "/api/(.*)",
  "dest": "/server.js"
}
```

### 3. ุฅุถุงูุฉ ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูู Vercel
ูุฌุจ ุฅุถุงูุฉ ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูู Vercel Dashboard:

## ๐ ุฎุทูุงุช ุงูุฅุตูุงุญ

### ุงูุฎุทูุฉ 1: ุชุญุฏูุซ ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูู Vercel
1. ุงุฐูุจ ุฅูู [Vercel Dashboard](https://vercel.com/dashboard)
2. ุงุฎุชุฑ ูุดุฑูุน `oliive-store-wadii`
3. ุงุฐูุจ ุฅูู **Settings** โ **Environment Variables**
4. ุฃุถู ุงููุชุบูุฑุงุช ุงูุชุงููุฉ:

```
NODE_ENV = production
JWT_SECRET = olive_store_secret_key_2024_secure
EMAIL_USER = your-email@gmail.com
EMAIL_PASS = your-app-password
RECIPIENT_EMAIL = elagamy@internet.ru
```

### ุงูุฎุทูุฉ 2: ุฅุนุงุฏุฉ ุงููุดุฑ
```bash
git add .
git commit -m "ุฅุตูุงุญ API - ุฅุถุงูุฉ ูุชุบูุฑุงุช ุงูุจูุฆุฉ"
git push origin main
```

### ุงูุฎุทูุฉ 3: ุงุฎุชุจุงุฑ API

#### ุงุฎุชุจุงุฑ ุงูููุชุฌุงุช:
```bash
curl https://oliive-store-wadii.vercel.app/api/products
```

#### ุงุฎุชุจุงุฑ ููุชุฌ ูุงุญุฏ:
```bash
curl https://oliive-store-wadii.vercel.app/api/products/1
```

#### ุงุฎุชุจุงุฑ ุฅุญุตุงุฆูุงุช ุงูุฅุฏุงุฑุฉ:
```bash
curl https://oliive-store-wadii.vercel.app/api/admin/stats
```

## ๐ง ุงุฎุชุจุงุฑ ุณุฑูุน ูู ุงููุชุตูุญ

### 1. ุงุฎุชุจุงุฑ API ุงูููุชุฌุงุช
ุงูุชุญ ูู ุงููุชุตูุญ:
```
https://oliive-store-wadii.vercel.app/api/products
```
**ุงููุชูุฌุฉ ุงููุชููุนุฉ:** ูุงุฆูุฉ JSON ุจุงูููุชุฌุงุช

### 2. ุงุฎุชุจุงุฑ API ุงูุฅุญุตุงุฆูุงุช
ุงูุชุญ ูู ุงููุชุตูุญ:
```
https://oliive-store-wadii.vercel.app/api/admin/stats
```
**ุงููุชูุฌุฉ ุงููุชููุนุฉ:** JSON ุจุงูุฅุญุตุงุฆูุงุช

### 3. ุงุฎุชุจุงุฑ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
ุงูุชุญ ูู ุงููุชุตูุญ:
```
https://oliive-store-wadii.vercel.app/
```
**ุงููุชูุฌุฉ ุงููุชููุนุฉ:** ุตูุญุฉ ุงููุชุฌุฑ ุชุนูู

## ๐๏ธ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฅุฐุง ูู ุชุนูู API:

#### 1. ุชุญูู ูู Logs ูู Vercel:
1. ุงุฐูุจ ุฅูู Vercel Dashboard
2. ุงุฎุชุฑ ุงููุดุฑูุน
3. ุงุฐูุจ ุฅูู **Functions** โ **View Function Logs**

#### 2. ุชุญูู ูู ุญุงูุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช:
```bash
# ูู ุงููุชุตูุญุ ุงูุชุญ Developer Tools (F12)
# ุงุฐูุจ ุฅูู Console ูุงูุชุจ:
fetch('/api/products').then(r => r.json()).then(console.log)
```

#### 3. ุชุญูู ูู CORS:
ุฅุฐุง ูุงูุช ููุงู ูุดููุฉ CORSุ ุณุชุธูุฑ ูู Console

### ุฑุณุงุฆู ุงูุฎุทุฃ ุงูุดุงุฆุนุฉ:

#### "500 Internal Server Error"
- **ุงูุณุจุจ:** ูุดููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฃู ูุชุบูุฑุงุช ุงูุจูุฆุฉ
- **ุงูุญู:** ุชุญูู ูู Vercel Logs

#### "404 Not Found"
- **ุงูุณุจุจ:** ูุณุงุฑ API ุบูุฑ ุตุญูุญ
- **ุงูุญู:** ุชุญูู ูู vercel.json

#### "CORS Error"
- **ุงูุณุจุจ:** ูุดููุฉ ูู ุฅุนุฏุงุฏุงุช CORS
- **ุงูุญู:** ุชุญูู ูู ุฅุนุฏุงุฏุงุช CORS ูู server.js

## ๐ API Endpoints ุงููุชุงุญุฉ

### ุงูููุชุฌุงุช:
- `GET /api/products` - ุฌููุน ุงูููุชุฌุงุช
- `GET /api/products/:id` - ููุชุฌ ูุงุญุฏ

### ุงููุณุชุฎุฏููู:
- `POST /api/register` - ุชุณุฌูู ูุณุชุฎุฏู ุฌุฏูุฏ
- `POST /api/login` - ุชุณุฌูู ุงูุฏุฎูู

### ุงูุณูุฉ:
- `GET /api/cart` - ูุญุชููุงุช ุงูุณูุฉ
- `POST /api/cart/add` - ุฅุถุงูุฉ ููุณูุฉ
- `PUT /api/cart/:id` - ุชุญุฏูุซ ุงูุณูุฉ
- `DELETE /api/cart/:id` - ุญุฐู ูู ุงูุณูุฉ

### ุงูุทูุจุงุช:
- `POST /api/orders` - ุฅูุดุงุก ุทูุจ ุฌุฏูุฏ
- `GET /api/orders` - ุทูุจุงุช ุงููุณุชุฎุฏู
- `POST /api/send-order-email` - ุฅุฑุณุงู ุทูุจ ุจุงูุฅูููู

### ุงูุฅุฏุงุฑุฉ:
- `GET /api/admin/orders` - ุฌููุน ุงูุทูุจุงุช
- `GET /api/admin/stats` - ุงูุฅุญุตุงุฆูุงุช
- `PUT /api/admin/orders/:id` - ุชุญุฏูุซ ุทูุจ
- `DELETE /api/admin/orders/:id` - ุญุฐู ุทูุจ

### ุงููุฑุงุฌุนุงุช:
- `GET /api/reviews` - ุงููุฑุงุฌุนุงุช ุงููุนุชูุฏุฉ
- `POST /api/reviews` - ุฅุถุงูุฉ ูุฑุงุฌุนุฉ
- `GET /api/admin/reviews` - ุฌููุน ุงููุฑุงุฌุนุงุช
- `PUT /api/admin/reviews/:id/approve` - ุงุนุชูุงุฏ ูุฑุงุฌุนุฉ
- `DELETE /api/admin/reviews/:id` - ุญุฐู ูุฑุงุฌุนุฉ

## ๐ฏ ุฎุทุฉ ุงูุงุฎุชุจุงุฑ

### 1. ุงุฎุชุจุงุฑ ุฃุณุงุณู (5 ุฏูุงุฆู):
```bash
# 1. ุงูููุชุฌุงุช
curl https://oliive-store-wadii.vercel.app/api/products

# 2. ุงูุฅุญุตุงุฆูุงุช
curl https://oliive-store-wadii.vercel.app/api/admin/stats

# 3. ุงููุฑุงุฌุนุงุช
curl https://oliive-store-wadii.vercel.app/api/reviews
```

### 2. ุงุฎุชุจุงุฑ ูุชูุฏู (10 ุฏูุงุฆู):
- ุชุณุฌูู ูุณุชุฎุฏู ุฌุฏูุฏ
- ุชุณุฌูู ุงูุฏุฎูู
- ุฅุถุงูุฉ ููุชุฌ ููุณูุฉ
- ุฅูุดุงุก ุทูุจ

### 3. ุงุฎุชุจุงุฑ ุงูุฅุฏุงุฑุฉ (5 ุฏูุงุฆู):
- ูุชุญ ููุญุฉ ุงูุชุญูู
- ุนุฑุถ ุงูุทูุจุงุช
- ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช

## ๐ ูู ุญุงูุฉ ุงุณุชูุฑุงุฑ ุงููุดููุฉ

### ูุนูููุงุช ููุฏุนู:
- **ุงููุดุฑูุน:** oliive-store-wadii
- **ุงูููุน:** Node.js + Express + SQLite
- **ุงูุงุณุชุถุงูุฉ:** Vercel
- **ุงููุดููุฉ:** API ูุง ูุนูู

### ุฎุทูุงุช ุงูุทูุงุฑุฆ:
1. **ุฅุนุงุฏุฉ ุงููุดุฑ ุงููุงูู:**
   ```bash
   git add .
   git commit -m "ุฅุนุงุฏุฉ ูุดุฑ ูุงูู"
   git push origin main --force
   ```

2. **ุฅุนุงุฏุฉ ุจูุงุก ูู Vercel:**
   - ุงุฐูุจ ุฅูู Vercel Dashboard
   - ุงุฎุชุฑ "Redeploy" โ "Rebuild"

3. **ุชุญูู ูู Function Logs:**
   - ุฑุงุฌุน ุงูุฃุฎุทุงุก ูู Vercel Logs
   - ุงุจุญุซ ุนู ุฑุณุงุฆู ุงูุฎุทุฃ

---
**ุชุงุฑูุฎ ุงูุฅุตูุงุญ:** ุงูุขู
**ุงูุญุงูุฉ:** ุฌุงูุฒ ููุงุฎุชุจุงุฑ